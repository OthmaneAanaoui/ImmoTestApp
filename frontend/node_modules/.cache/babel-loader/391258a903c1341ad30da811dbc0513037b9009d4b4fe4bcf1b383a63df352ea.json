{"ast":null,"code":"import axios from \"axios\";\nimport $ from \"jquery\"; // Import jQuery\nimport \"bootstrap/dist/css/bootstrap.min.css\"; // Import Bootstrap CSS\nimport \"datatables.net-bs5/css/dataTables.bootstrap5.min.css\"; // Import DataTables Bootstrap 5 styling\nimport \"datatables.net-buttons-bs5/css/buttons.bootstrap5.min.css\"; // Import DataTables Buttons Bootstrap 5 styling\nimport \"datatables.net\"; // Import DataTables library\nimport \"datatables.net-buttons\"; // Import DataTables Buttons extension\n\nexport default {\n  data() {\n    return {\n      articles: [],\n      dataTable: null\n    };\n  },\n  mounted() {\n    this.initializeDataTable();\n    this.loadArticles();\n  },\n  methods: {\n    initializeDataTable() {\n      this.dataTable = $(this.$el).find(\".table\").DataTable({\n        orderCellsTop: true,\n        dom: \"Bfrtip\",\n        order: [[0, \"asc\"], [1, \"asc\"]],\n        responsive: true,\n        animate: true,\n        paging: true,\n        lengthChange: true,\n        searching: true,\n        ordering: true,\n        info: true,\n        autoWidth: true,\n        processing: true,\n        columnFilter: true,\n        fixedColumns: true,\n        language: {\n          processing: \"Traitement en cours...\",\n          search: \"Rechercher&nbsp;:\",\n          lengthMenu: \"Afficher _MENU_ &eacute;l&eacute;ments\",\n          info: \"Affichage de l'&eacute;l&eacute;ment _START_ &agrave; _END_ sur _TOTAL_ &eacute;l&eacute;ments\",\n          infoEmpty: \"Affichage de l'&eacute;lement 0 &agrave; 0 sur 0 &eacute;l&eacute;ments\",\n          infoFiltered: \"(filtr&eacute; de _MAX_ &eacute;l&eacute;ments au total)\",\n          infoPostFix: \"\",\n          loadingRecords: \"Chargement en cours...\",\n          zeroRecords: \"Aucun &eacute;l&eacute;ment &agrave; afficher\",\n          emptyTable: \"Aucune donnée disponible dans le tableau\",\n          paginate: {\n            first: \"Premier\",\n            previous: \"Pr&eacute;c&eacute;dent\",\n            next: \"Suivant\",\n            last: \"Dernier\"\n          },\n          aria: {\n            sortAscending: \": activer pour trier la colonne par ordre croissant\",\n            sortDescending: \": activer pour trier la colonne par ordre décroissant\"\n          }\n        }\n      });\n    },\n    async loadArticles() {\n      try {\n        const response = await axios.get(\"../api/articles\");\n        this.articles = response.data;\n\n        // Destroy existing DataTable instance if it exists\n        if (this.dataTable) {\n          this.dataTable.destroy();\n        }\n\n        // Reinitialize DataTables with fetched data\n        this.$nextTick(() => {\n          this.dataTable = $(this.$el).find(\"table\").DataTable({\n            data: this.articles,\n            columns: [{\n              data: \"reference\"\n            }, {\n              data: \"lastName\"\n            }, {\n              data: \"firstName\"\n            }, {\n              data: \"phone\"\n            }, {\n              data: null,\n              render: function (data, type, row) {\n                return `\n\n                      <button class=\"btn btn-sm btn-danger\" data-article-id=\"${row.id}\" data-action=\"delete\"><i class=\"fas fa-remove\"></i></button>\n                    `;\n              }\n            }],\n            language: {\n              processing: \"Traitement en cours...\",\n              search: \"Rechercher&nbsp;:\",\n              lengthMenu: \"Afficher _MENU_ &eacute;l&eacute;ments\",\n              info: \"Affichage de l'&eacute;l&eacute;ment _START_ &agrave; _END_ sur _TOTAL_ &eacute;l&eacute;ments\",\n              infoEmpty: \"Affichage de l'&eacute;lement 0 &agrave; 0 sur 0 &eacute;l&eacute;ments\",\n              infoFiltered: \"(filtr&eacute; de _MAX_ &eacute;l&eacute;ments au total)\",\n              infoPostFix: \"\",\n              loadingRecords: \"Chargement en cours...\",\n              zeroRecords: \"Aucun &eacute;l&eacute;ment &agrave; afficher\",\n              emptyTable: \"Aucune donnée disponible dans le tableau\",\n              paginate: {\n                first: \"Premier\",\n                previous: \"Pr&eacute;c&eacute;dent\",\n                next: \"Suivant\",\n                last: \"Dernier\"\n              },\n              aria: {\n                sortAscending: \": activer pour trier la colonne par ordre croissant\",\n                sortDescending: \": activer pour trier la colonne par ordre décroissant\"\n              }\n            }\n          });\n          $(this.$el).find(\"button[data-action='edit']\").click(this.handleEditButtonClick);\n          $(this.$el).find(\"button[data-action='delete']\").click(this.handleDeleteButtonClick);\n        });\n      } catch (error) {\n        console.error(\"Error loading articles:\", error);\n      }\n    },\n    handleEditButtonClick(event) {\n      const articleId = $(event.currentTarget).data(\"article-id\");\n      this.editArticle(articleId);\n    },\n    handleDeleteButtonClick(event) {\n      const articleId = $(event.currentTarget).data(\"article-id\");\n      this.deleteArticle(articleId);\n    },\n    editArticle(articleId) {\n      console.log(\"Editing article with ID:\", articleId);\n    },\n    async deleteArticle(articleId) {\n      try {\n        await axios.delete(`../api/articles/${articleId}`);\n        console.log(\"Article deleted successfully:\", articleId);\n        this.loadArticles(); // Reload articles after deletion\n      } catch (error) {\n        console.error(\"Error deleting article:\", error);\n      }\n    }\n  }\n};","map":{"version":3,"names":["axios","$","data","articles","dataTable","mounted","initializeDataTable","loadArticles","methods","$el","find","DataTable","orderCellsTop","dom","order","responsive","animate","paging","lengthChange","searching","ordering","info","autoWidth","processing","columnFilter","fixedColumns","language","search","lengthMenu","infoEmpty","infoFiltered","infoPostFix","loadingRecords","zeroRecords","emptyTable","paginate","first","previous","next","last","aria","sortAscending","sortDescending","response","get","destroy","$nextTick","columns","render","type","row","id","click","handleEditButtonClick","handleDeleteButtonClick","error","console","event","articleId","currentTarget","editArticle","deleteArticle","log","delete"],"sources":["/Users/aanaouiothmane/Desktop/ImmoTestApp/frontend/src/components/ArticleList.vue"],"sourcesContent":["<template>\n  <div class=\"container\">\n    <h2>Liste des articles</h2>\n    <table id=\"ArticlesTable\" class=\"table\">\n      <thead>\n        <tr>\n\n          <th>title</th>\n\n          <th></th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr v-for=\"article in articles\" :key=\"article.id\">\n          <td>{{ article.title }}</td>\n\n          <td>\n            <button\n              @click=\"editArticle(article.id)\"\n              class=\"btn btn-sm btn-primary\"\n            >\n              Edit\n            </button>\n            <button\n              @click=\"deleteArticle(article.id)\"\n              class=\"btn btn-sm btn-danger\"\n            >\n              Delete\n            </button>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport $ from \"jquery\"; // Import jQuery\nimport \"bootstrap/dist/css/bootstrap.min.css\"; // Import Bootstrap CSS\nimport \"datatables.net-bs5/css/dataTables.bootstrap5.min.css\"; // Import DataTables Bootstrap 5 styling\nimport \"datatables.net-buttons-bs5/css/buttons.bootstrap5.min.css\"; // Import DataTables Buttons Bootstrap 5 styling\nimport \"datatables.net\"; // Import DataTables library\nimport \"datatables.net-buttons\"; // Import DataTables Buttons extension\n\nexport default {\n  data() {\n    return {\n      articles: [],\n      dataTable: null,\n    };\n  },\n  mounted() {\n    this.initializeDataTable();\n    this.loadArticles();\n  },\n  methods: {\n    initializeDataTable() {\n      this.dataTable = $(this.$el)\n        .find(\".table\")\n        .DataTable({\n          orderCellsTop: true,\n          dom: \"Bfrtip\",\n          order: [\n            [0, \"asc\"],\n            [1, \"asc\"],\n          ],\n\n          responsive: true,\n          animate: true,\n          paging: true,\n          lengthChange: true,\n          searching: true,\n          ordering: true,\n          info: true,\n          autoWidth: true,\n          processing: true,\n          columnFilter: true,\n          fixedColumns: true,\n          language: {\n            processing: \"Traitement en cours...\",\n            search: \"Rechercher&nbsp;:\",\n            lengthMenu: \"Afficher _MENU_ &eacute;l&eacute;ments\",\n            info: \"Affichage de l'&eacute;l&eacute;ment _START_ &agrave; _END_ sur _TOTAL_ &eacute;l&eacute;ments\",\n            infoEmpty:\n              \"Affichage de l'&eacute;lement 0 &agrave; 0 sur 0 &eacute;l&eacute;ments\",\n            infoFiltered:\n              \"(filtr&eacute; de _MAX_ &eacute;l&eacute;ments au total)\",\n            infoPostFix: \"\",\n            loadingRecords: \"Chargement en cours...\",\n            zeroRecords: \"Aucun &eacute;l&eacute;ment &agrave; afficher\",\n            emptyTable: \"Aucune donnée disponible dans le tableau\",\n            paginate: {\n              first: \"Premier\",\n              previous: \"Pr&eacute;c&eacute;dent\",\n              next: \"Suivant\",\n              last: \"Dernier\",\n            },\n            aria: {\n              sortAscending:\n                \": activer pour trier la colonne par ordre croissant\",\n              sortDescending:\n                \": activer pour trier la colonne par ordre décroissant\",\n            },\n          },\n        });\n    },\n    async loadArticles() {\n      try {\n        const response = await axios.get(\"../api/articles\");\n        this.articles = response.data;\n\n        // Destroy existing DataTable instance if it exists\n        if (this.dataTable) {\n          this.dataTable.destroy();\n        }\n\n        // Reinitialize DataTables with fetched data\n        this.$nextTick(() => {\n          this.dataTable = $(this.$el)\n            .find(\"table\")\n            .DataTable({\n              data: this.articles,\n              columns: [\n                { data: \"reference\" },\n                { data: \"lastName\" },\n                { data: \"firstName\" },\n                { data: \"phone\" },\n                {\n                  data: null,\n                  render: function (data, type, row) {\n                    return `\n\n                      <button class=\"btn btn-sm btn-danger\" data-article-id=\"${row.id}\" data-action=\"delete\"><i class=\"fas fa-remove\"></i></button>\n                    `;\n                  },\n                },\n              ],\n\n              language: {\n                processing: \"Traitement en cours...\",\n                search: \"Rechercher&nbsp;:\",\n                lengthMenu: \"Afficher _MENU_ &eacute;l&eacute;ments\",\n                info: \"Affichage de l'&eacute;l&eacute;ment _START_ &agrave; _END_ sur _TOTAL_ &eacute;l&eacute;ments\",\n                infoEmpty:\n                  \"Affichage de l'&eacute;lement 0 &agrave; 0 sur 0 &eacute;l&eacute;ments\",\n                infoFiltered:\n                  \"(filtr&eacute; de _MAX_ &eacute;l&eacute;ments au total)\",\n                infoPostFix: \"\",\n                loadingRecords: \"Chargement en cours...\",\n                zeroRecords: \"Aucun &eacute;l&eacute;ment &agrave; afficher\",\n                emptyTable: \"Aucune donnée disponible dans le tableau\",\n                paginate: {\n                  first: \"Premier\",\n                  previous: \"Pr&eacute;c&eacute;dent\",\n                  next: \"Suivant\",\n                  last: \"Dernier\",\n                },\n                aria: {\n                  sortAscending:\n                    \": activer pour trier la colonne par ordre croissant\",\n                  sortDescending:\n                    \": activer pour trier la colonne par ordre décroissant\",\n                },\n              },\n            });\n\n          $(this.$el)\n            .find(\"button[data-action='edit']\")\n            .click(this.handleEditButtonClick);\n          $(this.$el)\n            .find(\"button[data-action='delete']\")\n            .click(this.handleDeleteButtonClick);\n        });\n      } catch (error) {\n        console.error(\"Error loading articles:\", error);\n      }\n    },\n    handleEditButtonClick(event) {\n      const articleId = $(event.currentTarget).data(\"article-id\");\n      this.editArticle(articleId);\n    },\n    handleDeleteButtonClick(event) {\n      const articleId = $(event.currentTarget).data(\"article-id\");\n      this.deleteArticle(articleId);\n    },\n    editArticle(articleId) {\n      console.log(\"Editing article with ID:\", articleId);\n    },\n    async deleteArticle(articleId) {\n      try {\n        await axios.delete(`../api/articles/${articleId}`);\n        console.log(\"Article deleted successfully:\", articleId);\n        this.loadArticles(); // Reload articles after deletion\n      } catch (error) {\n        console.error(\"Error deleting article:\", error);\n      }\n    },\n  },\n};\n</script>\n\n<style scoped>\n@import '~@fortawesome/fontawesome-free/css/all.min.css';\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}