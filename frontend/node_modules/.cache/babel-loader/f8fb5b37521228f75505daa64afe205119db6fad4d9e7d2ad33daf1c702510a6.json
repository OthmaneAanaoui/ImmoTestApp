{"ast":null,"code":"import { createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-44de4ab4\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"container\"\n};\nconst _hoisted_2 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h2\", null, \"Liste des articles\", -1 /* HOISTED */));\nconst _hoisted_3 = {\n  id: \"ArticlesTable\",\n  class: \"table\"\n};\nconst _hoisted_4 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"thead\", null, [/*#__PURE__*/_createElementVNode(\"tr\", null, [/*#__PURE__*/_createElementVNode(\"th\", null, \"title\"), /*#__PURE__*/_createElementVNode(\"th\")])], -1 /* HOISTED */));\nconst _hoisted_5 = [\"onClick\"];\nconst _hoisted_6 = [\"onClick\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_hoisted_2, _createElementVNode(\"table\", _hoisted_3, [_hoisted_4, _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.articles, article => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: article.id\n    }, [_createElementVNode(\"td\", null, _toDisplayString(article.title), 1 /* TEXT */), _createElementVNode(\"td\", null, [_createElementVNode(\"button\", {\n      onClick: $event => $options.editArticle(article.id),\n      class: \"btn btn-sm btn-primary\"\n    }, \" Edit \", 8 /* PROPS */, _hoisted_5), _createElementVNode(\"button\", {\n      onClick: $event => $options.deleteArticle(article.id),\n      class: \"btn btn-sm btn-danger\"\n    }, \" Delete \", 8 /* PROPS */, _hoisted_6)])]);\n  }), 128 /* KEYED_FRAGMENT */))])])]);\n}","map":{"version":3,"names":["class","_createElementVNode","id","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_Fragment","_renderList","$data","articles","article","key","_toDisplayString","title","onClick","$event","$options","editArticle","_hoisted_5","deleteArticle","_hoisted_6"],"sources":["/Users/aanaouiothmane/Desktop/ImmoTestApp/frontend/src/components/ArticleList.vue"],"sourcesContent":["<template>\n  <div class=\"container\">\n    <h2>Liste des articles</h2>\n    <table id=\"ArticlesTable\" class=\"table\">\n      <thead>\n        <tr>\n\n          <th>title</th>\n\n          <th></th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr v-for=\"article in articles\" :key=\"article.id\">\n          <td>{{ article.title }}</td>\n\n          <td>\n            <button\n              @click=\"editArticle(article.id)\"\n              class=\"btn btn-sm btn-primary\"\n            >\n              Edit\n            </button>\n            <button\n              @click=\"deleteArticle(article.id)\"\n              class=\"btn btn-sm btn-danger\"\n            >\n              Delete\n            </button>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport $ from \"jquery\"; // Import jQuery\nimport \"bootstrap/dist/css/bootstrap.min.css\"; // Import Bootstrap CSS\nimport \"datatables.net-bs5/css/dataTables.bootstrap5.min.css\"; // Import DataTables Bootstrap 5 styling\nimport \"datatables.net-buttons-bs5/css/buttons.bootstrap5.min.css\"; // Import DataTables Buttons Bootstrap 5 styling\nimport \"datatables.net\"; // Import DataTables library\nimport \"datatables.net-buttons\"; // Import DataTables Buttons extension\n\nexport default {\n  data() {\n    return {\n      articles: [],\n      dataTable: null,\n    };\n  },\n  mounted() {\n    this.initializeDataTable();\n    this.loadArticles();\n  },\n  methods: {\n    initializeDataTable() {\n      this.dataTable = $(this.$el)\n        .find(\".table\")\n        .DataTable({\n          orderCellsTop: true,\n          dom: \"Bfrtip\",\n          order: [\n            [0, \"asc\"],\n            [1, \"asc\"],\n          ],\n\n          responsive: true,\n          animate: true,\n          paging: true,\n          lengthChange: true,\n          searching: true,\n          ordering: true,\n          info: true,\n          autoWidth: true,\n          processing: true,\n          columnFilter: true,\n          fixedColumns: true,\n          language: {\n            processing: \"Traitement en cours...\",\n            search: \"Rechercher&nbsp;:\",\n            lengthMenu: \"Afficher _MENU_ &eacute;l&eacute;ments\",\n            info: \"Affichage de l'&eacute;l&eacute;ment _START_ &agrave; _END_ sur _TOTAL_ &eacute;l&eacute;ments\",\n            infoEmpty:\n              \"Affichage de l'&eacute;lement 0 &agrave; 0 sur 0 &eacute;l&eacute;ments\",\n            infoFiltered:\n              \"(filtr&eacute; de _MAX_ &eacute;l&eacute;ments au total)\",\n            infoPostFix: \"\",\n            loadingRecords: \"Chargement en cours...\",\n            zeroRecords: \"Aucun &eacute;l&eacute;ment &agrave; afficher\",\n            emptyTable: \"Aucune donnée disponible dans le tableau\",\n            paginate: {\n              first: \"Premier\",\n              previous: \"Pr&eacute;c&eacute;dent\",\n              next: \"Suivant\",\n              last: \"Dernier\",\n            },\n            aria: {\n              sortAscending:\n                \": activer pour trier la colonne par ordre croissant\",\n              sortDescending:\n                \": activer pour trier la colonne par ordre décroissant\",\n            },\n          },\n        });\n    },\n    async loadArticles() {\n      try {\n        const response = await axios.get(\"../api/articles\");\n        this.articles = response.data;\n\n        // Destroy existing DataTable instance if it exists\n        if (this.dataTable) {\n          this.dataTable.destroy();\n        }\n\n        // Reinitialize DataTables with fetched data\n        this.$nextTick(() => {\n          this.dataTable = $(this.$el)\n            .find(\"table\")\n            .DataTable({\n              data: this.articles,\n              columns: [\n                { data: \"reference\" },\n                { data: \"lastName\" },\n                { data: \"firstName\" },\n                { data: \"phone\" },\n                {\n                  data: null,\n                  render: function (data, type, row) {\n                    return `\n\n                      <button class=\"btn btn-sm btn-danger\" data-article-id=\"${row.id}\" data-action=\"delete\"><i class=\"fas fa-remove\"></i></button>\n                    `;\n                  },\n                },\n              ],\n\n              language: {\n                processing: \"Traitement en cours...\",\n                search: \"Rechercher&nbsp;:\",\n                lengthMenu: \"Afficher _MENU_ &eacute;l&eacute;ments\",\n                info: \"Affichage de l'&eacute;l&eacute;ment _START_ &agrave; _END_ sur _TOTAL_ &eacute;l&eacute;ments\",\n                infoEmpty:\n                  \"Affichage de l'&eacute;lement 0 &agrave; 0 sur 0 &eacute;l&eacute;ments\",\n                infoFiltered:\n                  \"(filtr&eacute; de _MAX_ &eacute;l&eacute;ments au total)\",\n                infoPostFix: \"\",\n                loadingRecords: \"Chargement en cours...\",\n                zeroRecords: \"Aucun &eacute;l&eacute;ment &agrave; afficher\",\n                emptyTable: \"Aucune donnée disponible dans le tableau\",\n                paginate: {\n                  first: \"Premier\",\n                  previous: \"Pr&eacute;c&eacute;dent\",\n                  next: \"Suivant\",\n                  last: \"Dernier\",\n                },\n                aria: {\n                  sortAscending:\n                    \": activer pour trier la colonne par ordre croissant\",\n                  sortDescending:\n                    \": activer pour trier la colonne par ordre décroissant\",\n                },\n              },\n            });\n\n          $(this.$el)\n            .find(\"button[data-action='edit']\")\n            .click(this.handleEditButtonClick);\n          $(this.$el)\n            .find(\"button[data-action='delete']\")\n            .click(this.handleDeleteButtonClick);\n        });\n      } catch (error) {\n        console.error(\"Error loading articles:\", error);\n      }\n    },\n    handleEditButtonClick(event) {\n      const articleId = $(event.currentTarget).data(\"article-id\");\n      this.editArticle(articleId);\n    },\n    handleDeleteButtonClick(event) {\n      const articleId = $(event.currentTarget).data(\"article-id\");\n      this.deleteArticle(articleId);\n    },\n    editArticle(articleId) {\n      console.log(\"Editing article with ID:\", articleId);\n    },\n    async deleteArticle(articleId) {\n      try {\n        await axios.delete(`../api/articles/${articleId}`);\n        console.log(\"Article deleted successfully:\", articleId);\n        this.loadArticles(); // Reload articles after deletion\n      } catch (error) {\n        console.error(\"Error deleting article:\", error);\n      }\n    },\n  },\n};\n</script>\n\n<style scoped>\n@import '~@fortawesome/fontawesome-free/css/all.min.css';\n</style>\n"],"mappings":";;;EACOA,KAAK,EAAC;AAAW;gEACpBC,mBAAA,CAA2B,YAAvB,oBAAkB;;EACfC,EAAE,EAAC,eAAe;EAACF,KAAK,EAAC;;gEAC9BC,mBAAA,CAOQ,gB,aANNA,mBAAA,CAKK,a,aAHHA,mBAAA,CAAc,YAAV,OAAK,G,aAETA,mBAAA,CAAS,M;mBATnB;mBAAA;;uBACEE,mBAAA,CAgCM,OAhCNC,UAgCM,GA/BJC,UAA2B,EAC3BJ,mBAAA,CA6BQ,SA7BRK,UA6BQ,GA5BNC,UAOQ,EACRN,mBAAA,CAmBQ,iB,kBAlBNE,mBAAA,CAiBKK,SAAA,QA9BbC,WAAA,CAa8BC,KAAA,CAAAC,QAAQ,EAAnBC,OAAO;yBAAlBT,mBAAA,CAiBK;MAjB4BU,GAAG,EAAED,OAAO,CAACV;QAC5CD,mBAAA,CAA4B,YAAAa,gBAAA,CAArBF,OAAO,CAACG,KAAK,kBAEpBd,mBAAA,CAaK,aAZHA,mBAAA,CAKS;MAJNe,OAAK,EAAAC,MAAA,IAAEC,QAAA,CAAAC,WAAW,CAACP,OAAO,CAACV,EAAE;MAC9BF,KAAK,EAAC;OACP,QAED,iBAtBZoB,UAAA,GAuBYnB,mBAAA,CAKS;MAJNe,OAAK,EAAAC,MAAA,IAAEC,QAAA,CAAAG,aAAa,CAACT,OAAO,CAACV,EAAE;MAChCF,KAAK,EAAC;OACP,UAED,iBA5BZsB,UAAA,E","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}